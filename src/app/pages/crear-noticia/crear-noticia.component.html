<div class="crear-noticia-container">

  <h2 class="titulo">Crear nueva noticia</h2>

  <form [formGroup]="formNoticia" (ngSubmit)="publicarNoticia()">
    
    <!-- Campo Título -->
    <mat-form-field appearance="fill">
      <mat-label>Título</mat-label>
      <input matInput formControlName="titulo" />
      <mat-error *ngIf="formNoticia.get('titulo')?.invalid">Título obligatorio</mat-error>
    </mat-form-field>

    <!-- Campo Descripción -->
    <mat-form-field appearance="fill">
      <mat-label>Descripción</mat-label>
      <textarea matInput formControlName="descripcion" rows="5"></textarea>
      <mat-error *ngIf="formNoticia.get('descripcion')?.invalid">Descripción obligatoria</mat-error>
    </mat-form-field>

    <!-- Imagen -->
    <label class="texto-label">Imagen (opcional):</label>
    <input type="file" accept="image/*" (change)="onFileSelected($event)" />

    <!-- Preview -->
    <div *ngIf="imagenPreview" class="preview">
      <p>Vista previa:</p>
      <img [src]="imagenPreview" alt="Imagen seleccionada" />
    </div>

    <!-- Botón -->
    <button mat-raised-button type="submit" [disabled]="formNoticia.invalid || cargando">
      {{ cargando ? 'Publicando...' : 'Publicar Noticia' }}
    </button>

  </form>

</div>
